<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心学日签</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo-container">
                <div class="logo">
                    <span class="logo-icon">心</span>
                    <span class="logo-text">心学日签</span>
                </div>
                <p class="subtitle">每日一心学，日日有真言</p>
            </div>
        </header>

        <main class="main">
            <section class="mood-section">
                <h2 class="section-title">选择你的心境</h2>
                <div class="mood-buttons">
                    <button class="mood-btn" data-mood="平静"><span>平静</span></button>
                    <button class="mood-btn" data-mood="焦虑"><span>焦虑</span></button>
                    <button class="mood-btn" data-mood="迷茫"><span>迷茫</span></button>
                    <button class="mood-btn" data-mood="欢喜"><span>欢喜</span></button>
                    <button class="mood-btn" data-mood="困惑"><span>困惑</span></button>
                    <button class="mood-btn" data-mood="坚定"><span>坚定</span></button>
                </div>
            </section>

            <section class="draw-section">
                <div class="draw-area" id="drawArea">
                    <div class="fortune-teller">
                        <div class="stick-container">
                            <div class="stick" id="stick"></div>
                        </div>
                        <div class="cylinder">
                            <div class="cylinder-top"></div>
                            <div class="cylinder-body"></div>
                        </div>
                    </div>
                </div>
                <button class="draw-btn" id="drawBtn" disabled>请先选择心境</button>
            </section>

            <section class="result-section" id="resultSection" style="display: none;">
                <div class="result-content">
                    <div class="mood-indicator" id="moodIndicator"></div>
                    <div class="fortune-text" id="fortuneText"></div>
                    <div class="fortune-source" id="fortuneSource"></div>

                    <div class="explanation-section" id="explanationSection" style="display: none;">
                        <div class="section-header">
                            <span class="section-icon">📖</span>
                            <h3 class="section-title">深度解读</h3>
                        </div>
                        <div class="explanation-content" id="explanationContent"></div>
                    </div>

                    <div class="application-section" id="applicationSection" style="display: none;">
                        <div class="section-header">
                            <span class="section-icon">💡</span>
                            <h3 class="section-title">实践指导</h3>
                        </div>
                        <div class="application-content" id="applicationContent"></div>
                    </div>

                    <div class="progress-indicator">
                        <div class="progress-step active" id="step1">真言</div>
                        <div class="progress-step" id="step2">解读</div>
                        <div class="progress-step" id="step3">实践</div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="reset-btn" id="resetBtn">再抽一签</button>
                    <button class="poster-btn" id="posterBtn">
                        <span class="poster-icon">🎨</span>
                        生成今日日签海报
                    </button>
                </div>
            </section>

            <!-- 海报生成区域 -->
            <section class="poster-section" id="posterSection" style="display: none;">
                <div class="poster-container">
                    <div class="poster-header">
                        <h3>心学日签海报</h3>
                        <button class="close-poster" id="closePoster">✕</button>
                    </div>
                    <div class="poster-content">
                        <canvas id="posterCanvas" width="600" height="950"></canvas>
                    </div>
                    <div class="poster-actions">
                        <button class="download-btn" id="downloadBtn">
                            <span class="download-icon">💾</span>
                            保存海报
                        </button>
                        <button class="share-btn" id="shareBtn">
                            <span class="share-icon">📱</span>
                            分享海报
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>致良知 · 知行合一 · 格物致知</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>